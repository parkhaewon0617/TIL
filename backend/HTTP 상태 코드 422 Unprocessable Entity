HTTP 상태 코드 '422 Unprocessable Entity'는 서버가 요청 본문을 이해했지만, 요청된 명령을 수행할 수 없다는 것을 의미한다.

발생 원인: 주로 요청 본문에 포함된 데이터가 서버에서 기대하는 형식이나 내용과 일치하지 않을 때 발생한다.

구체적인 설명:
서버가 요청을 이해함: 클라이언트(브라우저 또는 애플리케이션)가 서버에 데이터를 보낼 때 서버는 이 요청을 이해합니다. 즉, 요청 자체는 잘 전달되었습니다.
요청 데이터의 형식 문제: 그러나 요청에 포함된 데이터가 서버에서 기대하는 형식이나 내용과 일치하지 않습니다. 예를 들어, 문자열이어야 하는 필드가 숫자로 되어 있는 경우입니다.
데이터 검증 실패: FastAPI와 같은 프레임워크는 데이터 검증을 수행하여 요청 데이터가 사전 정의된 모델과 일치하는지 확인합니다. 일치하지 않으면 422 오류를 반환합니다.

해결 방법:
요청 데이터의 형식을 서버에서 기대하는 형식에 맞게 수정. 이 경우, 숫자를 문자열로 변환하여 서버로 전송.

FastAPI 서버는 Memo 모델을 사용하여 id 필드가 문자열이어야 한다고 정의했습니다.

[Python]
class Memo(BaseModel):
    id: str
    content: str
그러나 클라이언트 코드에서는 id 필드를 숫자로 보내고 있습니다.

[Javascript]
body: JSON.stringify({
  id: new Date().getTime(),  // 숫자 타입
  content: value,
}),
서버는 이 숫자 타입의 id를 처리할 수 없기 때문에 422 Unprocessable Entity 오류를 반환합니다.

body: JSON.stringify({
      id: new Date().getTime().toString(),  // 숫자를 문자열로 변환
      content: value,